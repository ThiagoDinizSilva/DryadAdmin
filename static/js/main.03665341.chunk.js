(this.webpackJsonpdryad=this.webpackJsonpdryad||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(25),i=n.n(c),r=n(7),l=n(8),o=n(10),u=n(9),d=n(14),h=n(3),j=n(5),b=n(28),p=(n(34),n(26)),m=(n(35),n(1)),O=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleClick=function(e){s.node.contains(e.target)||s.setState({open:!1})},s.state={open:!1},s.className=s.props.className,s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClick)}},{key:"handleDrawer",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"Sidebar",ref:function(t){return e.node=t},children:[Object(m.jsx)(p.a,{onClick:this.handleDrawer.bind(this),className:"button-menu"}),Object(m.jsx)("ul",{className:"drawer ".concat(this.state.open?"show":"hide"),children:Object(m.jsxs)("ul",{className:"dropdown",children:[Object(m.jsx)(d.b,{to:"/home",className:"dropdown__item",activeClassName:"selected",children:"HOME"}),Object(m.jsxs)("li",{className:"dropdown__item",children:[Object(m.jsx)("span",{className:"dropdown__item-title",children:"USERS"}),Object(m.jsxs)("ul",{className:"dropdown__submenu",children:[Object(m.jsx)(d.b,{to:"/user/register",className:"dropdown__submenu-item",activeClassName:"selected",children:"REGISTER"}),Object(m.jsx)(d.b,{to:"/user/import",className:"dropdown__submenu-item",activeClassName:"selected",children:"IMPORT"}),Object(m.jsx)(d.b,{to:"/user/search",className:"dropdown__submenu-item",activeClassName:"selected",children:"SEARCH"})]})]}),Object(m.jsx)(d.b,{className:"dropdown__item",to:"/groups",activeClassName:"selected",children:"GROUPS"})]})})]})}}]),n}(a.a.Component),x=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={value:""},s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(j.a)(s)),s}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("You typed: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"Navbar",children:[Object(m.jsx)("div",{className:"SideNav",children:Object(m.jsx)(O,{})}),Object(m.jsxs)("form",{className:"SearchBar",children:[Object(m.jsx)("input",{type:"text",placeholder:"Search...",value:this.state.value,onChange:this.handleChange}),Object(m.jsx)(b.a,{className:"FaSearch",onClick:this.handleSubmit})]}),Object(m.jsx)("span",{})]})}}]),n}(s.Component);n(42);var v=function(){var e=Object(h.g)();return Object(m.jsx)(s.Fragment,{children:Object(m.jsxs)("div",{className:"center",children:[Object(m.jsxs)("div",{className:"error",children:[Object(m.jsx)("div",{className:"number",children:"4"}),Object(m.jsxs)("div",{className:"illustration",children:[Object(m.jsx)("div",{className:"circle"}),Object(m.jsx)("div",{className:"clip",children:Object(m.jsx)("div",{className:"paper",children:Object(m.jsxs)("div",{className:"face",children:[Object(m.jsxs)("div",{className:"eyes",children:[Object(m.jsx)("div",{className:"eye eye-left"}),Object(m.jsx)("div",{className:"eye eye-right"})]}),Object(m.jsx)("div",{className:"rosyCheeks rosyCheeks-left"}),Object(m.jsx)("div",{className:"rosyCheeks rosyCheeks-right"}),Object(m.jsx)("div",{className:"mouth"})]})})})]}),Object(m.jsx)("div",{className:"number",children:"4"})]}),Object(m.jsx)("div",{className:"text",children:"Oops. A Pagina que voc\xea est\xe1 procurando n\xe3o existe."}),Object(m.jsx)("button",{className:"button",onClick:function(){e.push("/home")},children:"Voltar a Home"})]})})},f=n(4),g=(n(43),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"handleclick",value:function(e){e.preventDefault()}},{key:"render",value:function(){return Object(m.jsx)(d.b,{to:this.props.value,className:"container-card",children:Object(m.jsx)("button",{className:"card",value:this.props.value,onClick:this.handleclick.bind(this),children:this.props.children})})}}]),n}(a.a.Component)),N=(n(44),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)(s.Fragment,{children:Object(m.jsxs)("div",{className:"main-content",children:[Object(m.jsxs)(g,{value:"/user/register",children:[Object(m.jsx)(f.m,{className:"card-icon"}),Object(m.jsx)("p",{className:"card-text",children:"REGISTER USER"})]}),Object(m.jsxs)(g,{value:"/user/import",children:[Object(m.jsx)(f.d,{className:"card-icon"}),Object(m.jsx)("p",{className:"card-text",children:"IMPORT USERS"})]}),Object(m.jsxs)(g,{value:"/user/search",children:[Object(m.jsx)(f.f,{className:"card-icon"}),Object(m.jsx)("p",{className:"card-text",children:"SEARCH USERS"})]}),Object(m.jsxs)(g,{value:"/groups",children:[Object(m.jsx)(f.i,{className:"card-icon"}),Object(m.jsx)("p",{className:"card-text",children:"MANAGE PERMISSIONS"})]})]})})}}]),n}(a.a.Component)),y=n(16),C=n(18);n(45);function k(e){var t=Object(s.useState)({givenName:"",surName:"",id:"",displayName:"",email:"",permissions:""}),n=Object(C.a)(t,2),a=n[0];n[1];function c(e){var t=e.target.value;this.setState(Object(y.a)({},"".concat(e.target.name),t))}return Object(m.jsx)(s.Fragment,{children:Object(m.jsxs)("form",{className:"register-form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),fetch("http://localhost:3001/api/user/register",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(e.status>=200&&e.status<300)return e;console.log("Somtehing went wrong!")})).catch((function(e){return e}))}.bind(this),children:[Object(m.jsx)("input",{type:"text",required:!0,name:"givenName",value:a.givenName,onChange:c,placeholder:"First Name"}),Object(m.jsx)("input",{type:"text",required:!0,name:"surName",value:a.surName,onChange:c,placeholder:"Last Name"}),Object(m.jsx)("input",{type:"text",required:!0,name:"displayName",value:a.displayName,onChange:c,placeholder:"Display Name"}),Object(m.jsx)("input",{type:"text",required:!0,name:"id",value:a.id,onChange:c,placeholder:"ID"}),Object(m.jsx)("input",{type:"text",name:"email",value:a.email,onChange:c,placeholder:"E-mail"}),Object(m.jsxs)("select",{name:"baseDN",required:!0,value:a.baseDN,onChange:c,children:[Object(m.jsx)("option",{value:" ",children:"permissions"}),Object(m.jsx)("option",{value:"IT",children:"IT"}),Object(m.jsx)("option",{value:"manager",children:"manager"}),Object(m.jsx)("option",{value:"user",children:"user"}),Object(m.jsx)("option",{value:"operator",children:"operator"})]}),Object(m.jsx)("input",{type:"submit",className:"btn-submit-form",value:"Cadastrar"})]})})}n(46);var S=function(){var e=Object(s.useState)(),t=Object(C.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),i=Object(C.a)(c,2),r=i[0],l=i[1];return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsxs)("form",{className:"file-upload",children:[Object(m.jsxs)("div",{className:"upload-wrap",children:[Object(m.jsx)("input",{className:"file-upload-input",type:"file",name:"file",onChange:function(e){a(e.target.files[0]),l(!0)}}),Object(m.jsx)("div",{className:"drag-text",children:r?Object(m.jsxs)("div",{children:[Object(m.jsx)(f.b,{className:"AiFillFileExcel"}),Object(m.jsxs)("p",{children:["Filename: ",n.name]}),Object(m.jsxs)("p",{children:["bytes: ",n.size]})]}):Object(m.jsx)("h3",{children:"DRAG AND DROP OR CLICK TO UPLOAD "})})]}),Object(m.jsx)("button",{className:"file-download-btn",children:"EXCEL MODEL"})]}),Object(m.jsxs)("div",{className:"btn-upload",children:[Object(m.jsx)("button",{className:"file-upload-btn",type:"button",onClick:function(){var e=new FormData;e.append("File",n),fetch("http://localhost:3001/api/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))},children:"UPLOAD FILE"}),Object(m.jsx)("button",{className:"remove-file",type:"button",onClick:function(){a(null),l(!1),console.log(r,n)},children:"CANCEL"})]})]})},G=n(23),w=n.n(G),T=n(29),A=(n(48),n(49),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={groups:[{}],currentGroups:[]},s.show=!0,s.addGroups=s.addGroups.bind(Object(j.a)(s)),s.delGroups=s.delGroups.bind(Object(j.a)(s)),s.listGroupsUser=s.listGroupsUser.bind(Object(j.a)(s)),s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.listGroupsUser()}},{key:"addGroups",value:function(e){e.preventDefault();var t=this.state.currentGroups,n=e.target.name;t.includes(n)?alert("User already has this permission!"):(t.push(n),this.setState({currentGroups:t}),this.props.groupsToAdd(e.target.name))}},{key:"delGroups",value:function(e){var t=this.state.currentGroups;t=t.filter((function(t){return t!==e.target.name})),this.setState({currentGroups:t}),this.props.groupsToDel(e.target.name)}},{key:"showCheckboxes",value:function(){var e=document.getElementById("checkBoxes");this.show?(e.style.display="block",this.getAllGroups(),this.show=!1):(e.style.display="none",this.show=!0)}},{key:"listGroupsUser",value:function(){var e=this;fetch("http://localhost:3001/api/group/searchMyGroups",{method:"POST",body:JSON.stringify({uid:this.props.currentUser}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({currentGroups:t})})).catch((function(e){return console.log(e)}))}},{key:"getAllGroups",value:function(){var e=this;fetch("http://localhost:3001/api/group/search",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({groups:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.groups.map((function(t,n){return Object(m.jsx)(s.Fragment,{children:Object(m.jsx)("button",{name:t.cn,onClick:e.addGroups,children:t.cn},n)})})),n=this.state.currentGroups.map((function(t,n){return Object(m.jsx)("div",{className:"selectedGroup",children:Object(m.jsxs)("button",{type:"button",name:t,onClick:e.delGroups,children:[Object(m.jsx)("p",{children:t}),Object(m.jsx)(f.a,{})]})},n)}));return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)("div",{className:"hidden-select",onClick:function(){return e.showCheckboxes()},children:n}),Object(m.jsx)("div",{id:"checkBoxes",children:t})]})}}]),n}(s.Component)),D=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).groupsToAdd=function(e){s.addGroups.includes(e)||s.addGroups.push(e)},s.groupsToDel=function(e){s.delGroups.includes(e)||s.delGroups.push(e)},s.state={newUid:null,currentUid:null,givenName:null,sn:null,displayName:null},s.removeFromGroups=[],s.addGroups=[],s.delGroups=[],s.handleInputChange=s.handleInputChange.bind(Object(j.a)(s)),s.submitRequest=s.submitRequest.bind(Object(j.a)(s)),s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({newUid:this.props.user.uid,currentUid:this.props.user.uid,givenName:this.props.user.givenName,sn:this.props.user.sn,displayName:this.props.user.displayName})}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,s=t.value;this.setState(Object(y.a)({},n,s))}},{key:"submitRequest",value:function(){var e=Object(T.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.addGroups){e.next=4;break}return e.next=4,this.setState({addGroups:this.addGroups});case 4:if(!this.delGroups){e.next=7;break}return e.next=7,this.setState({delGroups:this.delGroups});case 7:fetch("http://localhost:3001/api/user/modify",{method:"POST",body:JSON.stringify(this.state),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsxs)("form",{className:"user-info",onSubmit:this.submitRequest,children:[Object(m.jsx)("h1",{children:e.displayName}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)(f.l,{}),Object(m.jsx)("label",{children:"ID"}),Object(m.jsx)("span",{}),Object(m.jsx)("input",{type:"text",value:this.state.newUid,name:"newUid",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)(f.h,{}),Object(m.jsx)("label",{children:"NAME"}),Object(m.jsx)("span",{}),Object(m.jsx)("input",{type:"text",value:this.state.givenName,name:"givenName",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)(f.h,{}),Object(m.jsx)("label",{children:"LAST NAME"}),Object(m.jsx)("span",{}),Object(m.jsx)("input",{type:"text",value:this.state.sn,name:"sn",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)(f.h,{}),Object(m.jsx)("label",{children:"DISPLAY NAME"}),Object(m.jsx)("span",{}),Object(m.jsx)("input",{type:"text",value:this.state.displayName,name:"displayName",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsx)(f.j,{}),Object(m.jsx)("label",{children:"Permiss\xf5es"}),Object(m.jsx)("span",{}),Object(m.jsx)(A,{currentUser:e.uid,groupsToDel:this.groupsToDel.bind(this),groupsToAdd:this.groupsToAdd.bind(this)})]}),Object(m.jsxs)("div",{className:"form-buttons",children:[Object(m.jsx)("button",{type:"submit",children:"CHANGE"}),Object(m.jsx)("button",{children:"CANCEL"})]})]}),Object(m.jsx)("div",{className:"backgroundOverlay",onClick:this.props.action})]})}}]),n}(a.a.Component),I=(n(50),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={todos:null,currentPage:1,todosPerPage:20,toggle:!1,currentUser:null},s.indexOfLastTodo=null,s.indexOfFirstTodo=null,s.currentTodos=null,s.arrowClick=s.arrowClick.bind(Object(j.a)(s)),s.handleClick=s.handleClick.bind(Object(j.a)(s)),s.handleUser=s.handleUser.bind(Object(j.a)(s)),s}return Object(l.a)(n,[{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"arrowClick",value:function(e){var t=parseInt(this.state.currentPage),n=parseInt(e.target.id)+t;n>Math.ceil(this.state.todos.length/this.state.todosPerPage)&&(n=parseInt(n-1)),n<1&&(n=parseInt(n+1)),this.setState({currentPage:n})}},{key:"setData",value:function(e){this.setState({todos:e,currentPage:1})}},{key:"handleUser",value:function(e){var t;try{t=JSON.parse(e.target.value)}catch(n){t=null}this.setState((function(e){return{toggle:!e.toggle,currentUser:t}}))}},{key:"render",value:function(){var e=this;if(this.state.todos){var t=this.state,n=t.todos,a=t.currentPage,c=t.todosPerPage;this.indexOfLastTodo=a*c,this.indexOfFirstTodo=this.indexOfLastTodo-c,this.currentTodos=n.slice(this.indexOfFirstTodo,this.indexOfLastTodo);for(var i=this.currentTodos.map((function(t,n){return Object(m.jsxs)("li",{className:"index-item",children:[Object(m.jsx)("p",{className:"index-item-text",children:t.displayName}),Object(m.jsx)("p",{children:t.uid}),Object(m.jsxs)("div",{className:"index-icon-div",children:[Object(m.jsx)("button",{value:t,name:"changePassword",children:Object(m.jsx)(f.k,{})}),Object(m.jsx)("button",{value:JSON.stringify(t),name:"changeUser",onClick:e.handleUser,children:Object(m.jsx)(f.c,{})}),Object(m.jsx)("button",{value:t,name:"deleteUser",children:Object(m.jsx)(f.a,{})})]})]},n)})),r=[],l=1;l<=Math.ceil(n.length/c);l++)r.push(l);var o=r.map((function(t){return Object(m.jsx)("button",{id:t,onClick:e.handleClick,className:"index-btn ".concat(e.state.currentPage===t?"active":"deactive"),children:t},t)}));return 0==i.length?Object(m.jsx)(s.Fragment,{children:Object(m.jsxs)("div",{className:"page-index",children:[Object(m.jsxs)("li",{className:"index-label",children:[Object(m.jsx)("p",{children:"NAME"}),Object(m.jsx)("p",{children:"ID"})]}),Object(m.jsx)("li",{className:"index-item",children:Object(m.jsx)("p",{children:"NOTHING WAS FOUND"})})]})}):Object(m.jsxs)(s.Fragment,{children:[this.state.toggle?Object(m.jsx)(D,{action:this.handleUser,user:this.state.currentUser}):null,Object(m.jsxs)("ul",{className:"page-index",children:[Object(m.jsxs)("li",{className:"index-label",children:[Object(m.jsx)("p",{children:"NAME"}),Object(m.jsx)("p",{children:"ID"})]}),i]}),Object(m.jsxs)("div",{className:"index-btn-area",children:[Object(m.jsx)("button",{className:"index-btn",id:"-1",onClick:this.arrowClick,children:Object(m.jsx)(f.e,{id:"-1"})}),o,Object(m.jsx)("button",{className:"index-btn",id:"1",onClick:this.arrowClick,children:Object(m.jsx)(f.g,{id:"1"})})]})]})}return Object(m.jsx)(s.Fragment,{})}}]),n}(a.a.Component)),E=(n(51),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).child=a.a.createRef(),s.state={name:"",id:"",initials:"",users:"",searchBase:""},s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(j.a)(s)),s}return Object(l.a)(n,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState(Object(y.a)({},"".concat(e.target.name),t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.initials+" "+this.state.name;n=n.trim(),fetch("http://localhost:3001/api/user/search",{method:"POST",body:JSON.stringify({name:n,id:this.state.id,searchBase:this.state.searchBase}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.errorCode)return console.log(e.errorCode),void alert("Something went wrong!\n  "+e.errorCode);t.setState({users:e}),t.child.current.setData(e)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"search-div",children:[Object(m.jsxs)("form",{className:"search-form",autoComplete:"off",onSubmit:this.handleSubmit.bind(this),children:[Object(m.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,placeholder:"Name"}),Object(m.jsx)("input",{type:"text",name:"id",value:this.state.id,onChange:this.handleChange,placeholder:"ID"}),Object(m.jsxs)("select",{name:"initials",value:this.state.initials,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:" ",children:"permissions"}),Object(m.jsx)("option",{value:"IT",children:"IT"}),Object(m.jsx)("option",{value:"manager",children:"manager"}),Object(m.jsx)("option",{value:"user",children:"user"}),Object(m.jsx)("option",{value:"operator",children:"operator"})]}),Object(m.jsxs)("select",{name:"searchBase",value:this.state.curso,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"Filter "}),Object(m.jsx)("option",{value:"ou=Active",children:"Active"}),Object(m.jsx)("option",{value:"ou=Inactive",children:"Inactive"})]}),Object(m.jsx)("input",{type:"submit",className:"btn-submit-form",value:"Search"})]}),Object(m.jsx)(I,{data:this.state.users,ref:this.child})]})}}]),n}(s.Component)),U=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(d.a,{children:[Object(m.jsx)(h.b,{children:Object(m.jsx)(x,{})}),Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{path:"/home",component:N}),Object(m.jsx)(h.b,{exact:!0,path:"/user/register",component:k}),Object(m.jsx)(h.b,{exact:!0,path:"/user/import",component:S}),Object(m.jsx)(h.b,{exact:!0,path:"/user/search",component:E}),Object(m.jsx)(h.a,{exact:!0,from:"/",to:"home"}),Object(m.jsx)(h.b,{path:"/404",component:v}),Object(m.jsx)(h.a,{to:"/404"})]})]})}}]),n}(a.a.Component);n(52);i.a.render(Object(m.jsx)(U,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.03665341.chunk.js.map